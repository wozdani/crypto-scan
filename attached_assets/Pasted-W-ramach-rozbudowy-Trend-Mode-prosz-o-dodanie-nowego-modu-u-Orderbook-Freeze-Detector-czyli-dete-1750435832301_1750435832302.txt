W ramach rozbudowy Trend Mode proszÄ™ o dodanie nowego moduÅ‚u:
Orderbook Freeze Detector â€“ czyli detektora sytuacji, gdy ask-side w orderbooku zamiera, podczas gdy cena roÅ›nie.

ğŸ§  Cel:
Wzrost ceny przy nieruchomym asku = brak oporu = ukryta akceptacja trendu
Traderzy z doÅ›wiadczeniem widzÄ… to jako sygnaÅ‚, Å¼e nikt nie chce â€psuÄ‡â€ ruchu â€“ tylko pozwala mu pÅ‚ynÄ…Ä‡.

ğŸ“Š Wymagane dane:
Snapshoty bid i ask z orderbooka (z np. 5 poziomÃ³w)

Co najmniej 3 kolejne snapshoty w 15â€“30 minut

Cena w tym czasie musi rosnÄ…Ä‡

âœ… Funkcja: detect_orderbook_freeze(orderbook_snapshots: list[dict])
python
Kopiuj
Edytuj
def detect_orderbook_freeze(orderbook_snapshots: list[dict]) -> bool:
    """
    Wykrywa zamroÅ¼ony ask-side w orderbooku przy rosnÄ…cej cenie.
    orderbook_snapshots: lista dictÃ³w, kaÅ¼dy ma "price", "bids", "asks"
    """
    if len(orderbook_snapshots) < 3:
        return False

    ask_movement_detected = False

    for i in range(1, len(orderbook_snapshots)):
        prev_asks = orderbook_snapshots[i-1]["asks"]
        curr_asks = orderbook_snapshots[i]["asks"]

        # porÃ³wnaj tylko top 3 poziomy
        for level in range(min(3, len(prev_asks), len(curr_asks))):
            if abs(curr_asks[level][0] - prev_asks[level][0]) > 0.01:
                ask_movement_detected = True
                break

        if ask_movement_detected:
            break

    # jeÅ›li cena rosÅ‚a, ale ask byÅ‚ nieruchomy = freeze
    price_start = orderbook_snapshots[0]["price"]
    price_end = orderbook_snapshots[-1]["price"]
    price_delta = (price_end - price_start) / price_start

    if price_delta > 0.005 and not ask_movement_detected:  # cena wzrosÅ‚a >0.5%
        return True

    return False
ğŸ”§ Integracja w trend_mode_pipeline.py:
python
Kopiuj
Edytuj
from detectors.orderbook_freeze import detect_orderbook_freeze

if orderbook_snapshots and detect_orderbook_freeze(orderbook_snapshots):
    score += 15
    reasons.append("orderbook freeze detected â€“ ask-side inactive during pump")
ğŸ“¦ Dane:
Wymagane 3 snapshoty z Bybit OrderBook (co 5 min lub z cache systemu), np.:

python
Kopiuj
Edytuj
{
  "price": 0.023,
  "bids": [[0.0229, 120], [0.0228, 80], [0.0227, 45]],
  "asks": [[0.0231, 100], [0.0232, 75], [0.0233, 60]]
}
ğŸ“ Plik:
detectors/orderbook_freeze.py

ğŸ’¡ Efekt:
JeÅ›li cena roÅ›nie, ale ask siÄ™ nie rusza â€“ ktoÅ› pozwala na wybicie

To nie FOMO pump, to kontrolowany trend

Detektor dodaje score +15 do Trend Mode

ProszÄ™ o wdroÅ¼enie i integracjÄ™.
Gotowy na kolejny moduÅ‚: Heatmap Vacuum Detector.

Pozdrawiam