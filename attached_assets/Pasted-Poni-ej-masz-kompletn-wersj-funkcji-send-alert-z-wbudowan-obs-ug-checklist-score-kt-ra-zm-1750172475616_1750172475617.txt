PoniÅ¼ej masz kompletnÄ… wersjÄ™ funkcji send_alert() z wbudowanÄ… obsÅ‚ugÄ… checklist_score, ktÃ³ra:

âœ… zmienia treÅ›Ä‡ alertu w zaleÅ¼noÅ›ci od jakoÅ›ci struktury (czyli checklist_score)

ğŸ“ˆ wzmacnia komunikat, jeÅ›li struktura jest silna (checklist_score â‰¥ 60)

âš ï¸ ostrzega, jeÅ›li sygnaÅ‚ jest mocny, ale struktura sÅ‚aba

ğŸ”§ Funkcja: send_alert(symbol, ppwcs, checklist_score, checklist_summary, signals)
python
Kopiuj
Edytuj
def send_alert(symbol, ppwcs, checklist_score, checklist_summary, signals):
    alert_lines = []

    # NagÅ‚Ã³wek
    alert_lines.append(f"ğŸš¨ **PRE-PUMP ALERT** â€“ {symbol}")
    alert_lines.append(f"PPWCS Score: {ppwcs}/100")
    alert_lines.append(f"Checklist Score: {checklist_score}/100")

    # Wzmocnienie komunikatu wg checklist_score
    if checklist_score >= 70:
        alert_lines.append("âœ… Struktura: bardzo silna (setup high-confidence)")
    elif checklist_score >= 50:
        alert_lines.append("âš ï¸ Struktura: akceptowalna, ale warto monitorowaÄ‡")
    else:
        alert_lines.append("â— Uwaga: sÅ‚aba struktura â€“ moÅ¼liwy faÅ‚szywy sygnaÅ‚")

    # SygnaÅ‚y aktywne
    alert_lines.append("\nğŸ“¡ Aktywne sygnaÅ‚y:")
    for k, v in signals.items():
        if isinstance(v, bool) and v:
            alert_lines.append(f"â€¢ {k}")
        elif isinstance(v, str) and v.strip():
            alert_lines.append(f"â€¢ {k}: {v}")
    
    # Podsumowanie struktury
    if checklist_summary:
        alert_lines.append("\nğŸ§  Struktura setupu:")
        alert_lines.append(" + ".join(checklist_summary))

    # Dodaj link (jeÅ›li masz Bybit lub DEX screener)
    alert_lines.append(f"\nğŸ”— SprawdÅº wykres: https://www.bybit.com/en-US/trade/spot/{symbol}")

    # WyÅ›lij wiadomoÅ›Ä‡ (Telegram, Discord, log, itp.)
    final_msg = "\n".join(alert_lines)
    print(final_msg)
    # send_telegram_message(final_msg)  # odkomentuj, jeÅ›li potrzebne
ğŸ§  Co to daje?
Checklist Score	Komentarz w alertach
â‰¥ 70	â€âœ… Struktura bardzo silnaâ€
50â€“69	â€âš ï¸ Struktura akceptowalnaâ€
< 50	â€â— MoÅ¼liwy faÅ‚szywy sygnaÅ‚â€