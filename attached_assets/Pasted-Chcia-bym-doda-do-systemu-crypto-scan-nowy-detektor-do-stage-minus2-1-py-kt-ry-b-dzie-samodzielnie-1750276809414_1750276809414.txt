ChciaÅ‚bym dodaÄ‡ do systemu crypto-scan nowy detektor do stage_minus2_1.py, ktÃ³ry bÄ™dzie samodzielnie uruchamiaÅ‚ alert i wysyÅ‚aÅ‚ analizÄ™ do GPT, nawet jeÅ›li inne sygnaÅ‚y sÄ… nieaktywne.

ğŸ”§ Nazwa moduÅ‚u
detect_silent_accumulation(symbol, market_data, rsi_series)

ğŸ” Co wykrywa:
Wzorzec cichej akumulacji (ang. silent accumulation), czyli:

RSI jest pÅ‚askie (miÄ™dzy 45 a 55) przez 8 Å›wiec

Åšwiece majÄ… bardzo maÅ‚e ciaÅ‚a (konsolidacja bez zmiennoÅ›ci)

Brak wyraÅºnych knotÃ³w gÃ³rnych i dolnych (tzw. â€cegieÅ‚kiâ€)

âœ… Co robi:
JeÅ›li warunki sÄ… speÅ‚nione:

Ustawia signals = { "silent_accumulation": True }

Ustawia ppwcs_score = 60

Natychmiast wywoÅ‚uje:

send_alert(symbol, ppwcs_score, signals)

send_report_to_chatgpt(symbol, ppwcs_score, signals)

save_conditional_reports(symbol, signals, ppwcs_score)

ğŸ§  W prompt do GPT dodaj:
yaml
Kopiuj
Edytuj
ğŸŸ¦ Detected: Silent accumulation zone (RSI flat, low-body candles, no wicks)
âœ… PrzykÅ‚ad kodu do stage_minus2_1.py
python
Kopiuj
Edytuj
def detect_silent_accumulation(symbol, market_data, rsi_series):
    try:
        if len(market_data) < 8 or len(rsi_series) < 8:
            return False

        last_candles = market_data[-8:]
        last_rsi = rsi_series[-8:]

        flat_rsi = all(45 <= r <= 55 for r in last_rsi)
        small_bodies = all(
            abs(float(c['close']) - float(c['open'])) / (float(c['high']) - float(c['low']) + 1e-6) < 0.3
            for c in last_candles
        )
        no_wicks = all(
            (float(c['high']) - max(float(c['close']), float(c['open'])) < 0.1 * float(c['high'])) and
            (min(float(c['close']), float(c['open'])) - float(c['low']) < 0.1 * float(c['low']))
            for c in last_candles
        )

        if flat_rsi and small_bodies and no_wicks:
            print(f"ğŸ”µ Silent Accumulation Triggered: {symbol}")
            signals = {"silent_accumulation": True}
            ppwcs = 60

            send_alert(symbol, ppwcs_score=ppwcs, signals=signals)
            send_report_to_chatgpt(symbol, ppwcs_score=ppwcs, signals=signals)
            save_conditional_reports(symbol, signals=signals, ppwcs_score=ppwcs)

            return True
        return False

    except Exception as e:
        print(f"âŒ Error in detect_silent_accumulation: {e}")
        return False
ProszÄ™ o dodanie tego moduÅ‚u do stage_minus2_1.py oraz upewnienie siÄ™, Å¼e integruje siÄ™ z istniejÄ…cymi funkcjami alertu i GPT. DziÄ™ki!

