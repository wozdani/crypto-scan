CzeÅ›Ä‡, chcÄ™ dodaÄ‡ do mojego projektu crypto-scan nowy moduÅ‚ analityczny: Trend-Mode.
Jego celem jest symulacja myÅ›lenia profesjonalnego tradera, ktÃ³ry doÅ‚Ä…cza do istniejÄ…cego trendu wzrostowego w momencie korekty (pullbacku), a nie na breakoutcie czy odwrÃ³ceniu.

Trend-Mode ma byÄ‡ podzielony na etapy decyzyjne, zbudowane tak, by oddaÄ‡ sposÃ³b analizy najlepszych traderÃ³w:

ğŸ§© Etap 1: Analiza Kontekstu Rynkowego (market_context)
Klasyfikacja aktualnej struktury:

impuls, pullback, range, breakout, redistribucja

Bazuje na analizie: slope, zmiennoÅ›ci, ukÅ‚adÃ³w Å›wiec i zmian trendu na EMA.

Funkcja: determine_market_context(candles) â†’ "pullback" / "impulse" / "range" itd.

ğŸ“ˆ Etap 2: Ocena SiÅ‚y Trendu (trend_strength)
Oblicza score siÅ‚y trendu (0.0 â€“ 1.0)

Na podstawie:

% Å›wiec zielonych w ostatnich 20â€“40

nachylenie ceny (slope)

stabilnoÅ›Ä‡ wybicia / momentum

Funkcja: compute_trend_strength(candles)

ğŸ” Etap 3: Wykrycie Korekty (pullback_detection)
Sprawdza, czy cena cofnÄ™Å‚a siÄ™ od lokalnego high o 1â€“2% (pullback)

Dodatkowo sprawdza, czy wolumen maleje (brak dystrybucji)

Funkcja: detect_pullback(candles) â†’ True/False

ğŸ“ Etap 4: Reakcja na wsparcie (support_reaction)
Sprawdza, czy cena utrzymuje siÄ™ nad dynamicznym wsparciem (EMA21 / VWAP)

Obserwuje reakcjÄ™ Å›wiec (czy byÅ‚a obrona poziomu?)

Funkcja: is_near_support(candles) â†’ True/False

ğŸ§  Etap 5: Logika Decyzyjna Tradera (trader_decision_logic)
ÅÄ…czy wszystko w jedno logiczne â€myÅ›lenieâ€ tradera:

JeÅ›li trend_score wysoki + pullback aktywny + near_support = sygnaÅ‚ wejÅ›cia

Zwraca:

python
Kopiuj
Edytuj
{
  "decision": "join_trend", 
  "confidence": 0.84,
  "reasons": ["clean pullback", "support held", "momentum intact"]
}
Funkcja: interpret_market_as_trader(symbol, candles)

ğŸ›  Integracja
Trend-Mode moÅ¼e byÄ‡ osobnym plikiem trend_mode.py z wywoÅ‚aniem:

python
Kopiuj
Edytuj
from trend_mode import interpret_market_as_trader
Output moÅ¼e wpÅ‚ywaÄ‡ na scoring alertu lub dziaÅ‚aÄ‡ jako niezaleÅ¼ny filtr.

âœ… ProszÄ™ o wdroÅ¼enie kaÅ¼dego etapu w osobnych funkcjach, wszystko w jednym module.
Potem zrobimy integracjÄ™ z resztÄ… systemu crypto-scan.

